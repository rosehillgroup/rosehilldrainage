# Netlify Redirects Configuration for Rosehill Drainage
# Redirects from rosehilldrainage.com to drainage.rosehill.group

# Force old domain to new subdomain
https://rosehilldrainage.com/* https://drainage.rosehill.group/:splat 301!
http://rosehilldrainage.com/* https://drainage.rosehill.group/:splat 301!
https://www.rosehilldrainage.com/* https://drainage.rosehill.group/:splat 301!
http://www.rosehilldrainage.com/* https://drainage.rosehill.group/:splat 301!

# Force HTTPS
http://drainage.rosehill.group/* https://drainage.rosehill.group/:splat 301!
http://rosehilldrainage.netlify.app/* https://rosehilldrainage.netlify.app/:splat 301!

# Clean URLs - remove .html extension (redirect .html to clean)
/about.html /about 301
/solutions.html /solutions 301
/contact.html /contact 301
/technical.html /technical 301
/sustainability.html /sustainability 301
/case-studies.html /case-studies 301
/thank-you.html /thank-you 301
/grip-drain.html /grip-drain 301

# Serve HTML files without extension
/about /about.html 200
/solutions /solutions.html 200
/contact /contact.html 200
/technical /technical.html 200
/sustainability /sustainability.html 200
/case-studies /case-studies.html 200
/thank-you /thank-you.html 200
/grip-drain /grip-drain.html 200

# Legacy clean URL redirects (for backwards compatibility)
/home /index.html 301

# Security: Block WordPress scanner bots (return 410 Gone)
/xmlrpc.php              /404.html  410
/wp-login.php            /404.html  410
/wp-admin/*              /404.html  410
/wp                      /404.html  410
/wordpress               /404.html  410

# Security: Block attack vectors and sensitive file access attempts
/.env                    /404.html  410
/about.php               /404.html  410
/file.php                /404.html  410
/admin.php               /404.html  410
/aa.php                  /404.html  410

# Security: Block directory probing attempts
/old                     /404.html  410
/new                     /404.html  410
/main                    /404.html  410

# AutoDiscover: Email client autodiscovery (redirect to homepage)
/AutoDiscover/autodiscover.xml    /    404

# Legacy pages: Redirect to relevant current pages
/email-disclaimer/       /privacy-policy    301

# Fallback for 404 errors
/* /404.html 404